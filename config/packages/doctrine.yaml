# Minimal Doctrine ORM configuration for OAuth2 bundle support
# User entities use MongoDB ODM (see doctrine_mongodb.yaml)
# OAuth2 entities use Doctrine ORM (league/oauth2-server-bundle requirement)
doctrine:
  dbal:
    url: '%env(resolve:DATABASE_URL)%'
    driver: pdo_mysql
  orm:
    auto_generate_proxy_classes: true
    enable_lazy_ghost_objects: true
    naming_strategy: doctrine.orm.naming_strategy.underscore_number_aware
    auto_mapping: false

when@test:
  doctrine:
    dbal:
      url: '%env(resolve:DATABASE_URL_TEST)%'
