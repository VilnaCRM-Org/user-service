openapi: 3.1.0
info:
  title: 'User Service API'
  description: 'This API provides endpoints to manage user data within a VilnaCRM.'
  contact:
    name: 'VilnaCRM Support'
    url: 'https://vilnacrm.com'
    email: support@vilnacrm.com
  license:
    name: 'VilnaCRM Proprietary'
    url: 'https://vilnacrm.com/legal/license'
  version: 1.0.0
servers:
  -
    url: 'https://api.vilnacrm.com'
    description: ''
paths:
  /api/health:
    get:
      operationId: api_health_get
      tags:
        - HealthCheck
      responses:
        '204':
          description: 'Health check passed with no content to return.'
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Retrieves a HealthCheck resource.'
      description: 'Retrieves a HealthCheck resource.'
      parameters: []
      deprecated: false
  /api/oauth/authorize:
    summary: 'Requests for authorization code'
    description: 'Requests for authorization code'
    get:
      operationId: oauth_authorize_get
      tags:
        - OAuth
      responses:
        '302':
          description: 'Redirect to the provided redirect URI with authorization code.'
          content:
            application/json:
              example: {  }
          headers:
            Location:
              description: 'The URI to redirect to for user authorization'
              schema:
                type: string
                format: uri
              example: 'https://example.com/oauth/callback?code=e7f8c62113a4'
        '400':
          description: 'Unsupported grant type'
          content:
            application/json:
              schema:
                type: object
                properties:
                  error: { type: string }
                  error_description: { type: string }
                  hint: { type: string }
                  message: { type: string }
                required:
                  - error
                  - error_description
                  - hint
                  - message
              example:
                error: unsupported_grant_type
                error_description: 'The authorization grant type is not supported by the authorization server.'
                hint: 'Check that all required parameters have been provided'
                message: 'The authorization grant type is not supported by the authorization server.'
          headers: {  }
        '401':
          description: 'Invalid client credentials'
          content:
            application/json:
              schema:
                type: object
                properties:
                  error: { type: string }
                  error_description: { type: string }
                  message: { type: string }
                required:
                  - error
                  - error_description
                  - message
              example:
                error: invalid_client
                error_description: 'Client authentication failed'
                message: 'Client authentication failed'
          headers: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Start OAuth authorization flow'
      description: 'Redirects the resource owner to grant access and returns an authorization code.'
      parameters:
        -
          name: response_type
          in: query
          description: 'Response type'
          required: true
          deprecated: false
          allowEmptyValue: false
          schema:
            type: string
          style: form
          explode: false
          allowReserved: false
          example: code
        -
          name: client_id
          in: query
          description: 'Client ID'
          required: true
          deprecated: false
          allowEmptyValue: false
          schema:
            type: string
          style: form
          explode: false
          allowReserved: false
          example: dc0bc6323f16fecd4224a3860ca894c5
        -
          name: redirect_uri
          in: query
          description: 'Redirect uri'
          required: true
          deprecated: false
          allowEmptyValue: false
          schema:
            type: string
          style: form
          explode: false
          allowReserved: false
          example: 'https://example.com/oauth/callback'
        -
          name: scope
          in: query
          description: Scope
          required: false
          deprecated: false
          allowEmptyValue: false
          schema:
            type: string
          style: form
          explode: false
          allowReserved: false
          example: 'profile email'
        -
          name: state
          in: query
          description: State
          required: false
          deprecated: false
          allowEmptyValue: false
          schema:
            type: string
          style: form
          explode: false
          allowReserved: false
          example: af0ifjsldkj
  /api/oauth/token:
    summary: 'Requests for access token'
    description: 'Requests for access token'
    post:
      operationId: oauth_token_post
      tags:
        - OAuth
      responses:
        '200':
          description: 'OAuth access token response'
          content:
            application/json:
              schema:
                type: object
                properties:
                  token_type: { type: string }
                  expires_in: { type: integer }
                  access_token: { type: string }
                  refresh_token: { type: string }
                required:
                  - token_type
                  - expires_in
                  - access_token
                  - refresh_token
              example:
                token_type: Bearer
                expires_in: 3600
                access_token: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdW
                refresh_token: df9b4ae7ce2e1e8f2a3c1b4d
          headers: {  }
        '400':
          description: 'Unsupported grant type'
          content:
            application/json:
              schema:
                type: object
                properties:
                  error: { type: string }
                  error_description: { type: string }
                  hint: { type: string }
                  message: { type: string }
                required:
                  - error
                  - error_description
                  - hint
                  - message
              example:
                error: unsupported_grant_type
                error_description: 'The authorization grant type is not supported by the authorization server.'
                hint: 'Check that all required parameters have been provided'
                message: 'The authorization grant type is not supported by the authorization server.'
          headers: {  }
        '401':
          description: 'Invalid client credentials'
          content:
            application/json:
              schema:
                type: object
                properties:
                  error: { type: string }
                  error_description: { type: string }
                  message: { type: string }
                required:
                  - error
                  - error_description
                  - message
              example:
                error: invalid_client
                error_description: 'Client authentication failed'
                message: 'Client authentication failed'
          headers: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Exchange authorization data for tokens'
      description: 'Exchanges an authorization code or refresh token for OAuth access and refresh tokens.'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                grant_type:
                  type: string
                client_id:
                  type: string
                client_secret:
                  type: string
                redirect_uri:
                  type: string
                code:
                  type: string
                refresh_token:
                  type: string
              required:
                - grant_type
                - client_id
                - client_secret
                - redirect_uri
                - code
                - refresh_token
            example:
              grant_type: authorization_code
              client_id: dc0bc6323f16fecd4224a3860ca894c5
              client_secret: 8897b24436ac63e457fbd7d0bd5b678686c0cb214ef92fa9e8464fc7
              redirect_uri: 'https://example.com/oauth/callback'
              code: e7f8c62113a47f7a5a9dca1f
              refresh_token: f7a5a9dca1fe7f8c62113a47
        required: true
  /api/users:
    get:
      operationId: api_users_get_collection
      tags:
        - User
      responses:
        '400':
          description: 'Bad request'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: 'https://tools.ietf.org/html/rfc2616#section-10'
                title: 'An error occurred'
                detail: 'The input data is misformatted.'
                status: 400
          headers: {  }
        '200':
          description: 'Users returned'
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties: { confirmed: { type: boolean }, email: { type: string }, initials: { type: string }, id: { type: string } }
                  required: [confirmed, email, initials, id]
              example:
                -
                  confirmed: false
                  email: user@example.com
                  initials: 'Name Surname'
                  id: 018dd6ba-e901-7a8c-b27d-65d122caca6b
          headers: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Retrieves the collection of User resources.'
      description: 'Retrieves the collection of User resources.'
      parameters:
        -
          name: page
          in: query
          description: 'The collection page number'
          required: false
          deprecated: false
          allowEmptyValue: true
          schema:
            type: integer
            default: 1
          style: form
          explode: false
          allowReserved: false
        -
          name: itemsPerPage
          in: query
          description: 'The number of items per page'
          required: false
          deprecated: false
          allowEmptyValue: true
          schema:
            type: integer
            default: 30
            minimum: 0
          style: form
          explode: false
          allowReserved: false
      deprecated: false
    post:
      operationId: create_http
      tags:
        - User
      responses:
        '201':
          description: 'User created'
          content:
            application/json:
              schema:
                type: object
                properties:
                  confirmed: { type: boolean }
                  email: { type: string }
                  initials: { type: string }
                  id: { type: string }
                required:
                  - confirmed
                  - email
                  - initials
                  - id
              example:
                confirmed: false
                email: user@example.com
                initials: 'Name Surname'
                id: 018dd6ba-e901-7a8c-b27d-65d122caca6b
          headers: {  }
        '400':
          description: 'Bad request'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: 'https://tools.ietf.org/html/rfc2616#section-10'
                title: 'An error occurred'
                detail: 'The input data is misformatted.'
                status: 400
          headers: {  }
        '422':
          description: 'Validation error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  violations: { type: array, items: { type: object } }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - violations
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'some_property: This value should not be blank.'
                violations:
                  - { propertyPath: some_property, message: 'This value should not be blank.', code: c1051bb4-d103-4f74-8988-acbcafc7fdc3 }
                status: 422
          headers: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Creates a User resource.'
      description: 'Creates a User resource.'
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  maxLength: 255
                  format: email
                initials:
                  type: string
                  maxLength: 255
                password:
                  type: string
                  maxLength: 255
              required:
                - email
                - initials
                - password
            example:
              email: user@example.com
              initials: 'Name Surname'
              password: passWORD1
        required: true
      deprecated: false
  /api/users/batch:
    post:
      operationId: create_batch_http
      tags:
        - User
      responses:
        '201':
          description: 'Users returned'
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties: { confirmed: { type: boolean }, email: { type: string }, initials: { type: string }, id: { type: string } }
                  required: [confirmed, email, initials, id]
              example:
                -
                  confirmed: false
                  email: user@example.com
                  initials: 'Name Surname'
                  id: 018dd6ba-e901-7a8c-b27d-65d122caca6b
          headers: {  }
        '422':
          description: 'Validation error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  violations: { type: array, items: { type: object } }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - violations
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'some_property: This value should not be blank.'
                violations:
                  - { propertyPath: some_property, message: 'This value should not be blank.', code: c1051bb4-d103-4f74-8988-acbcafc7fdc3 }
                status: 422
          headers: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Creates a User resource.'
      description: 'Creates a User resource.'
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                users:
                  type: array
                  items: { type: object }
              required:
                - users
            example:
              users:
                -
                  email: user@example.com
                  initials: 'Name Surname'
                  password: passWORD1
        required: true
      deprecated: false
  /api/users/confirm:
    patch:
      operationId: confirm_http
      tags:
        - User
      responses:
        '200':
          description: 'User confirmed'
          content:
            application/json:
              example: {  }
          headers: {  }
        '404':
          description: 'Token not found or expired'
          content:
            application/json:
              example: {  }
          headers: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Confirms the User'
      description: 'Confirms the User'
      parameters: []
      requestBody:
        content:
          application/merge-patch+json:
            schema:
              type: object
              properties:
                token:
                  type: string
              required:
                - token
            example:
              token: token
        required: true
      deprecated: false
  '/api/users/{id}':
    get:
      operationId: api_users_id_get
      tags:
        - User
      responses:
        '404':
          description: 'User not found'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: 'https://tools.ietf.org/html/rfc2616#section-10'
                title: 'An error occurred'
                detail: 'User not found'
                status: 404
          headers: {  }
        '200':
          description: 'User returned'
          content:
            application/json:
              schema:
                type: object
                properties:
                  confirmed: { type: boolean }
                  email: { type: string }
                  initials: { type: string }
                  id: { type: string }
                required:
                  - confirmed
                  - email
                  - initials
                  - id
              example:
                confirmed: false
                email: user@example.com
                initials: 'Name Surname'
                id: 018dd6ba-e901-7a8c-b27d-65d122caca6b
          headers: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Retrieves a User resource.'
      description: 'Retrieves a User resource.'
      parameters:
        -
          name: id
          in: path
          description: 'User identifier'
          required: true
          deprecated: false
          schema:
            type: string
          style: simple
          explode: false
          example: 2b10b7a3-67f0-40ea-a367-44263321592a
      deprecated: false
    put:
      operationId: api_users_id_put
      tags:
        - User
      responses:
        '200':
          description: 'User updated'
          content:
            application/json:
              schema:
                type: object
                properties:
                  confirmed: { type: boolean }
                  email: { type: string }
                  initials: { type: string }
                  id: { type: string }
                required:
                  - confirmed
                  - email
                  - initials
                  - id
              example:
                confirmed: false
                email: user@example.com
                initials: 'Name Surname'
                id: 018dd6ba-e901-7a8c-b27d-65d122caca6b
          headers: {  }
        '400':
          description: 'Bad request'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: 'https://tools.ietf.org/html/rfc2616#section-10'
                title: 'An error occurred'
                detail: 'The input data is misformatted.'
                status: 400
          headers: {  }
        '404':
          description: 'User not found'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: 'https://tools.ietf.org/html/rfc2616#section-10'
                title: 'An error occurred'
                detail: 'User not found'
                status: 404
          headers: {  }
        '422':
          description: 'Validation error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  violations: { type: array, items: { type: object } }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - violations
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'some_property: This value should not be blank.'
                violations:
                  - { propertyPath: some_property, message: 'This value should not be blank.', code: c1051bb4-d103-4f74-8988-acbcafc7fdc3 }
                status: 422
          headers: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Replaces the User resource.'
      description: 'Replaces the User resource.'
      parameters:
        -
          name: id
          in: path
          description: 'User identifier'
          required: true
          deprecated: false
          schema:
            type: string
          style: simple
          explode: false
          example: 2b10b7a3-67f0-40ea-a367-44263321592a
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  maxLength: 255
                  format: email
                initials:
                  type: string
                  maxLength: 255
                oldPassword:
                  type: string
                  maxLength: 255
                newPassword:
                  type: string
                  maxLength: 255
              required:
                - email
                - initials
                - oldPassword
                - newPassword
            example:
              email: user@example.com
              initials: 'Name Surname'
              oldPassword: passWORD1
              newPassword: PASSword2
        required: true
      deprecated: false
    delete:
      operationId: api_users_id_delete
      tags:
        - User
      responses:
        '204':
          description: 'User resource deleted'
          content:
            application/json:
              example: {  }
          headers: {  }
        '404':
          description: 'User not found'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: 'https://tools.ietf.org/html/rfc2616#section-10'
                title: 'An error occurred'
                detail: 'User not found'
                status: 404
          headers: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Removes the User resource.'
      description: 'Removes the User resource.'
      parameters:
        -
          name: id
          in: path
          description: 'User identifier'
          required: true
          deprecated: false
          schema:
            type: string
          style: simple
          explode: false
          example: 2b10b7a3-67f0-40ea-a367-44263321592a
      deprecated: false
    patch:
      operationId: api_users_id_patch
      tags:
        - User
      responses:
        '200':
          description: 'User updated'
          content:
            application/json:
              schema:
                type: object
                properties:
                  confirmed: { type: boolean }
                  email: { type: string }
                  initials: { type: string }
                  id: { type: string }
                required:
                  - confirmed
                  - email
                  - initials
                  - id
              example:
                confirmed: false
                email: user@example.com
                initials: 'Name Surname'
                id: 018dd6ba-e901-7a8c-b27d-65d122caca6b
          headers: {  }
        '400':
          description: 'Bad request'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: 'https://tools.ietf.org/html/rfc2616#section-10'
                title: 'An error occurred'
                detail: 'The input data is misformatted.'
                status: 400
          headers: {  }
        '404':
          description: 'User not found'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: 'https://tools.ietf.org/html/rfc2616#section-10'
                title: 'An error occurred'
                detail: 'User not found'
                status: 404
          headers: {  }
        '422':
          description: 'Validation error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  violations: { type: array, items: { type: object } }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - violations
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'some_property: This value should not be blank.'
                violations:
                  - { propertyPath: some_property, message: 'This value should not be blank.', code: c1051bb4-d103-4f74-8988-acbcafc7fdc3 }
                status: 422
          headers: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Updates the User resource.'
      description: 'Updates the User resource.'
      parameters:
        -
          name: id
          in: path
          description: 'User identifier'
          required: true
          deprecated: false
          schema:
            type: string
          style: simple
          explode: false
          example: 2b10b7a3-67f0-40ea-a367-44263321592a
      requestBody:
        content:
          application/merge-patch+json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  maxLength: 255
                  format: email
                initials:
                  type: string
                  maxLength: 255
                oldPassword:
                  type: string
                  maxLength: 255
                newPassword:
                  type: string
                  maxLength: 255
              required:
                - oldPassword
            example:
              email: user@example.com
              initials: 'Name Surname'
              oldPassword: passWORD1
              newPassword: PASSword2
        required: true
      deprecated: false
  '/api/users/{id}/resend-confirmation-email':
    post:
      operationId: api_users_idresend-confirmation-email_post
      tags:
        - User
      responses:
        '200':
          description: 'Email was send again'
          content:
            application/json:
              example: {  }
          headers: {  }
        '404':
          description: 'User not found'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: 'https://tools.ietf.org/html/rfc2616#section-10'
                title: 'An error occurred'
                detail: 'User not found'
                status: 404
          headers: {  }
        '429':
          description: 'Too many requests'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: 'https://tools.ietf.org/html/rfc2616#section-10'
                title: 'An error occurred'
                detail: 'Cannot send new email till 2024-01-24T12:43:01+00:00'
                status: 429
          headers: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Resends confirmation email'
      description: 'Resends confirmation email'
      parameters:
        -
          name: id
          in: path
          description: 'User identifier'
          required: true
          deprecated: false
          schema:
            type: string
          style: simple
          explode: false
          example: 2b10b7a3-67f0-40ea-a367-44263321592a
      requestBody:
        description: 'This operation does not expect a body.'
        content:
          application/json:
            schema:
              type: object
              properties: {  }
        required: false
      deprecated: false
  /api/reset-password:
    post:
      operationId: request_password_reset
      tags:
        - 'User reset password'
      responses:
        '200':
          description: 'EmptyResponse resource created'
          content:
            application/json:
              schema: {  }
            application/graphql:
              schema: {  }
            application/ld+json:
              schema: {  }
          links: {  }
        '400':
          description: 'Invalid input'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          links: {  }
        '422':
          description: 'An error occurred'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ConstraintViolation-json'
            application/json:
              schema:
                $ref: '#/components/schemas/ConstraintViolation-json'
          links: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Request a password reset'
      description: 'Initiates a password reset process by sending a reset token to the provided email address.'
      parameters: []
      requestBody:
        description: 'The new EmptyResponse resource'
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmptyResponse.RequestPasswordResetDto'
          application/graphql:
            schema:
              $ref: '#/components/schemas/EmptyResponse.RequestPasswordResetDto'
          application/ld+json:
            schema:
              $ref: '#/components/schemas/EmptyResponse.RequestPasswordResetDto.jsonld'
        required: true
      deprecated: false
  /api/reset-password/confirm:
    post:
      operationId: confirm_password_reset
      tags:
        - 'User reset password'
      responses:
        '200':
          description: 'EmptyResponse resource created'
          content:
            application/json:
              schema: {  }
            application/graphql:
              schema: {  }
            application/ld+json:
              schema: {  }
          links: {  }
        '400':
          description: 'Invalid input'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          links: {  }
        '422':
          description: 'An error occurred'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ConstraintViolation-json'
            application/json:
              schema:
                $ref: '#/components/schemas/ConstraintViolation-json'
          links: {  }
        '500':
          description: 'Internal server error'
          content:
            application/json:
              schema:
                type: object
                properties:
                  type: { type: string }
                  title: { type: string }
                  detail: { type: string }
                  status: { type: integer }
                required:
                  - type
                  - title
                  - detail
                  - status
              example:
                type: /errors/500
                title: 'An error occurred'
                detail: 'Something went wrong'
                status: 500
          headers: {  }
      summary: 'Confirm a password reset'
      description: 'Completes the password reset process by validating the reset token and setting a new password.'
      parameters: []
      requestBody:
        description: 'The new EmptyResponse resource'
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmptyResponse.ConfirmPasswordResetDto'
          application/graphql:
            schema:
              $ref: '#/components/schemas/EmptyResponse.ConfirmPasswordResetDto'
          application/ld+json:
            schema:
              $ref: '#/components/schemas/EmptyResponse.ConfirmPasswordResetDto.jsonld'
        required: true
      deprecated: false
components:
  schemas:
    ConstraintViolation-json:
      type: object
      description: 'Unprocessable entity'
      deprecated: false
      properties:
        status:
          default: 422
          example: 422
          type: integer
        violations:
          type: array
          items:
            type: object
            properties:
              propertyPath:
                type: string
                description: 'The property path of the violation'
              message:
                type: string
                description: 'The message associated with the violation'
        detail:
          readOnly: true
          type: string
        type:
          readOnly: true
          type: string
        title:
          readOnly: true
          type:
            - string
            - 'null'
        instance:
          readOnly: true
          type:
            - string
            - 'null'
    EmptyResponse.ConfirmPasswordResetDto:
      type: object
      description: ''
      deprecated: false
      required:
        - token
        - newPassword
      properties:
        token:
          maxLength: 255
          type:
            - string
            - 'null'
        newPassword:
          maxLength: 64
          minLength: 8
          pattern: '^(.*[A-Z].*)$'
          type:
            - string
            - 'null'
    EmptyResponse.ConfirmPasswordResetDto.jsonld:
      type: object
      description: ''
      deprecated: false
      required:
        - token
        - newPassword
      properties:
        token:
          maxLength: 255
          type:
            - string
            - 'null'
        newPassword:
          maxLength: 64
          minLength: 8
          pattern: '^(.*[A-Z].*)$'
          type:
            - string
            - 'null'
    EmptyResponse.RequestPasswordResetDto:
      type: object
      description: ''
      deprecated: false
      required:
        - email
      properties:
        email:
          format: email
          maxLength: 255
          externalDocs:
            url: 'https://schema.org/email'
          type:
            - string
            - 'null'
    EmptyResponse.RequestPasswordResetDto.jsonld:
      type: object
      description: ''
      deprecated: false
      required:
        - email
      properties:
        email:
          format: email
          maxLength: 255
          externalDocs:
            url: 'https://schema.org/email'
          type:
            - string
            - 'null'
    Error:
      type: object
      description: 'A representation of common errors.'
      deprecated: false
      properties:
        title:
          readOnly: true
          description: 'A short, human-readable summary of the problem.'
          type:
            - string
            - 'null'
        detail:
          readOnly: true
          description: 'A human-readable explanation specific to this occurrence of the problem.'
          type:
            - string
            - 'null'
        status:
          type: number
          examples:
            - 404
          default: 400
        instance:
          readOnly: true
          description: 'A URI reference that identifies the specific occurrence of the problem. It may or may not yield further information if dereferenced.'
          type:
            - string
            - 'null'
        type:
          readOnly: true
          description: 'A URI reference that identifies the problem type'
          type: string
    HealthCheck:
      type: object
      description: ''
      deprecated: false
    HealthCheck.jsonld:
      type: object
      description: ''
      deprecated: false
      properties:
        '@context':
          readOnly: true
          oneOf:
            -
              type: string
            -
              type: object
              properties:
                '@vocab':
                  type: string
                hydra:
                  type: string
                  enum: ['http://www.w3.org/ns/hydra/core#']
              required:
                - '@vocab'
                - hydra
              additionalProperties: true
        '@id':
          readOnly: true
          type: string
        '@type':
          readOnly: true
          type: string
    User-output:
      type: object
      description: ''
      deprecated: false
      properties:
        confirmed:
          type: boolean
        email:
          type: string
        initials:
          type: string
        id:
          $ref: '#/components/schemas/UuidInterface-output'
    User.ConfirmUserDto:
      type: object
      description: ''
      deprecated: false
      required:
        - token
      properties:
        token:
          type:
            - string
            - 'null'
    User.RetryDto:
      type: object
      description: ''
      deprecated: false
    User.RetryDto.jsonld:
      type: object
      description: ''
      deprecated: false
    User.UserPatchDto:
      type: object
      description: ''
      deprecated: false
      properties:
        email:
          format: email
          maxLength: 255
          externalDocs:
            url: 'https://schema.org/email'
          type:
            - string
            - 'null'
        initials:
          maxLength: 255
          pattern: ^(\S+)$
          type:
            - string
            - 'null'
        oldPassword:
          maxLength: 64
          minLength: 8
          pattern: '^(.*[A-Z].*)$'
          type:
            - string
            - 'null'
        newPassword:
          maxLength: 64
          pattern: '^(.*(^$|.*[A-Z].*).*)$'
          type:
            - string
            - 'null'
      required:
        - oldPassword
    User.UserPutDto:
      type: object
      description: ''
      deprecated: false
      required:
        - email
        - initials
        - oldPassword
        - newPassword
      properties:
        email:
          format: email
          maxLength: 255
          externalDocs:
            url: 'https://schema.org/email'
          type:
            - string
            - 'null'
        initials:
          maxLength: 255
          pattern: ^(\S+)$
          type:
            - string
            - 'null'
        oldPassword:
          maxLength: 64
          minLength: 8
          pattern: '^(.*[A-Z].*)$'
          type:
            - string
            - 'null'
        newPassword:
          maxLength: 64
          minLength: 8
          pattern: '^(.*[A-Z].*)$'
          type:
            - string
            - 'null'
    User.UserPutDto.jsonld:
      type: object
      description: ''
      deprecated: false
      required:
        - email
        - initials
        - oldPassword
        - newPassword
      properties:
        email:
          format: email
          maxLength: 255
          externalDocs:
            url: 'https://schema.org/email'
          type:
            - string
            - 'null'
        initials:
          maxLength: 255
          pattern: ^(\S+)$
          type:
            - string
            - 'null'
        oldPassword:
          maxLength: 64
          minLength: 8
          pattern: '^(.*[A-Z].*)$'
          type:
            - string
            - 'null'
        newPassword:
          maxLength: 64
          minLength: 8
          pattern: '^(.*[A-Z].*)$'
          type:
            - string
            - 'null'
    User.UserRegisterBatchDto:
      type: object
      description: ''
      deprecated: false
      properties:
        users:
          type:
            - array
            - 'null'
          items:
            type: string
    User.UserRegisterBatchDto.jsonld:
      type: object
      description: ''
      deprecated: false
      properties:
        users:
          type:
            - array
            - 'null'
          items:
            type: string
    User.UserRegisterDto:
      type: object
      description: ''
      deprecated: false
      required:
        - email
        - initials
        - password
      properties:
        email:
          format: email
          maxLength: 255
          externalDocs:
            url: 'https://schema.org/email'
          type:
            - string
            - 'null'
        initials:
          maxLength: 255
          pattern: ^(\S+)$
          type:
            - string
            - 'null'
        password:
          maxLength: 64
          minLength: 8
          pattern: '^(.*[A-Z].*)$'
          type:
            - string
            - 'null'
    User.UserRegisterDto.jsonld:
      type: object
      description: ''
      deprecated: false
      required:
        - email
        - initials
        - password
      properties:
        email:
          format: email
          maxLength: 255
          externalDocs:
            url: 'https://schema.org/email'
          type:
            - string
            - 'null'
        initials:
          maxLength: 255
          pattern: ^(\S+)$
          type:
            - string
            - 'null'
        password:
          maxLength: 64
          minLength: 8
          pattern: '^(.*[A-Z].*)$'
          type:
            - string
            - 'null'
    User.jsonld-output:
      type: object
      description: ''
      deprecated: false
      properties:
        '@context':
          readOnly: true
          oneOf:
            -
              type: string
            -
              type: object
              properties:
                '@vocab':
                  type: string
                hydra:
                  type: string
                  enum: ['http://www.w3.org/ns/hydra/core#']
              required:
                - '@vocab'
                - hydra
              additionalProperties: true
        '@id':
          readOnly: true
          type: string
        '@type':
          readOnly: true
          type: string
        confirmed:
          type: boolean
        email:
          type: string
        initials:
          type: string
        id:
          $ref: '#/components/schemas/UuidInterface.jsonld-output'
    UuidInterface-output:
      type: object
      description: ''
      deprecated: false
    UuidInterface.jsonld-output:
      type: object
      description: ''
      deprecated: false
      properties:
        '@context':
          readOnly: true
          oneOf:
            -
              type: string
            -
              type: object
              properties:
                '@vocab':
                  type: string
                hydra:
                  type: string
                  enum: ['http://www.w3.org/ns/hydra/core#']
              required:
                - '@vocab'
                - hydra
              additionalProperties: true
        '@id':
          readOnly: true
          type: string
        '@type':
          readOnly: true
          type: string
  responses: {  }
  parameters: {  }
  examples: {  }
  requestBodies: {  }
  headers: {  }
  securitySchemes:
    OAuth2:
      type: oauth2
      description: 'OAuth2 Authorization Code flow securing VilnaCRM API.'
      flows:
        authorizationCode:
          authorizationUrl: 'https://localhost/api/oauth/dialog'
          tokenUrl: 'https://localhost/api/oauth/token'
          scopes:
            'write:pets': 'modify pets in your account'
            'read:pets': 'read your pets'
security:
  -
    OAuth2: []
tags:
  -
    name: HealthCheck
    description: 'Service health monitoring endpoints'
  -
    name: OAuth
    description: 'OAuth 2.0 authorization and token endpoints'
  -
    name: User
    description: 'User account management operations'
  -
    name: 'User reset password'
    description: 'Password reset workflows'
webhooks: {  }
